{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=Profile;var _regenerator=_interopRequireDefault(require(\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\node_modules\\\\@babel\\\\runtime/regenerator\"));var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _reactNativeWeb=require(\"react-native-web\");var _react=_interopRequireWildcard(require(\"react\"));var _axios=_interopRequireDefault(require(\"axios\"));var _reactRouterDom=require(\"react-router-dom\");var _Stack=require(\"../Native/Stack\");var _jsxFileName=\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\src\\\\Components\\\\Profile.js\";(function(){var enterModule=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.enterModule:undefined;enterModule&&enterModule(module);})();var __signature__=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.default.signature:function(a){return a;};function Profile(){var _useState=(0,_react.useState)(),_useState2=(0,_slicedToArray2.default)(_useState,2),data=_useState2[0],setData=_useState2[1];var navigate=(0,_reactRouterDom.useHistory)();var _useContext=(0,_react.useContext)(_Stack.contextStore),token=_useContext.token,setToken=_useContext.setToken;(0,_react.useEffect)(function(){if(token&&!data){getHandle();}},[token,data]);(0,_react.useEffect)(function(){if(!token){}},[token]);var getHandle=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(){return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_axios.default)(\"http://192.168.239.38:9090/profile\",{headers:{'x-token':token}}).then(function(res){setData(res.data.user);}).catch(function(err){console.log(err);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getHandle(){return _ref.apply(this,arguments);};}();var logout=function logout(){setToken(null);Cookies.remove('token');};return _react.default.createElement(_reactNativeWeb.View,{__source:{fileName:_jsxFileName,lineNumber:44},__self:this},_react.default.createElement(_reactNativeWeb.Text,{__source:{fileName:_jsxFileName,lineNumber:45},__self:this},\"User Details\"),_react.default.createElement(_reactNativeWeb.Text,{__source:{fileName:_jsxFileName,lineNumber:46},__self:this},data===null||data===void 0?void 0:data.name),_react.default.createElement(_reactNativeWeb.Text,{__source:{fileName:_jsxFileName,lineNumber:47},__self:this},data===null||data===void 0?void 0:data.email),_react.default.createElement(_reactNativeWeb.TouchableOpacity,{onPress:logout,__source:{fileName:_jsxFileName,lineNumber:49},__self:this},_react.default.createElement(_reactNativeWeb.Text,{__source:{fileName:_jsxFileName,lineNumber:50},__self:this},\"Logout\")));}__signature__(Profile,\"useState{[data,setData]}\\nuseHistory{navigate}\\nuseContext{{token, setToken}}\\nuseEffect{}\\nuseEffect{}\",function(){return[_reactRouterDom.useHistory];});;(function(){var reactHotLoader=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.default:undefined;if(!reactHotLoader){return;}reactHotLoader.register(Profile,\"Profile\",\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\src\\\\Components\\\\Profile.js\");})();;(function(){var leaveModule=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.leaveModule:undefined;leaveModule&&leaveModule(module);})();","map":{"version":3,"names":["_reactNativeWeb","require","_react","_interopRequireWildcard","_axios","_interopRequireDefault","_reactRouterDom","_Stack","_jsxFileName","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","default","signature","a","Profile","_useState","useState","_useState2","_slicedToArray2","data","setData","navigate","useHistory","_useContext","useContext","contextStore","token","setToken","useEffect","getHandle","_ref","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","axios","headers","then","res","user","catch","err","console","log","t0","stop","apply","arguments","logout","Cookies","remove","createElement","View","__source","fileName","lineNumber","__self","Text","name","email","TouchableOpacity","onPress","reactHotLoader","register","leaveModule"],"sources":["D:/Vscode/MERNPROJECTS/Pwa reference/react-native-pwa/react-native-pwa/src/Components/Profile.js"],"sourcesContent":["import { View, Text, TouchableOpacity } from 'react-native'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { contextStore } from '../Native/Stack';\r\n\r\nexport default function Profile() {\r\n    const [data,setData]=useState();\r\n    const navigate = useHistory();\r\n    // const [token,setToken]=useContext(cont)\r\n    // const [token,setToken]=useState()\r\n    const {token, setToken} = useContext(contextStore);\r\n    useEffect(()=>{\r\n        if(token&&!data){\r\n            getHandle()\r\n        }\r\n    },[token,data])\r\n    useEffect(()=>{\r\n        if(!token){\r\n            \r\n        }\r\n    },[token])\r\n    const getHandle=async()=>{\r\n        try {\r\n            await axios(\"http://192.168.239.38:9090/profile\",{\r\n                headers:{\r\n                    'x-token':token\r\n                }\r\n            }).then(res=>{\r\n                setData(res.data.user)\r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const logout=()=>{\r\n        setToken(null)\r\n        Cookies.remove('token')\r\n    }\r\n  return (\r\n    <View>\r\n    <Text>User Details</Text>\r\n      <Text>{data?.name}</Text>\r\n      <Text>{data?.email}</Text>\r\n\r\n      <TouchableOpacity onPress={logout}>\r\n        <Text>Logout</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}