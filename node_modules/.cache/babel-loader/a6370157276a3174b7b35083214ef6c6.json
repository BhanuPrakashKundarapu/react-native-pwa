{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=Login;var _regenerator=_interopRequireDefault(require(\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\node_modules\\\\@babel\\\\runtime/regenerator\"));var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _reactNativeWeb=require(\"react-native-web\");var _cookies=_interopRequireDefault(require(\"cookies\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactRouterDom=require(\"react-router-dom\");var _axios=_interopRequireDefault(require(\"axios\"));var _Stack=require(\"../Native/Stack\");var _jsxFileName=\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\src\\\\Components\\\\Login.js\";(function(){var enterModule=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.enterModule:undefined;enterModule&&enterModule(module);})();var __signature__=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.default.signature:function(a){return a;};function Login(){var _useState=(0,_react.useState)(),_useState2=(0,_slicedToArray2.default)(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=(0,_react.useState)(),_useState4=(0,_slicedToArray2.default)(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useContext=(0,_react.useContext)(_Stack.contextStore),token=_useContext.token,setToken=_useContext.setToken;var navigate=(0,_reactRouterDom.useHistory)();var handleForm=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(){return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(email,password);_context.next=3;return _axios.default.post(\"http://192.168.239.38:9090/signin\",{email:email,password:password}).then(function(res){console.log(res.data);if(res.data.status===200){setToken(res.data.token);navigate.push(\"/profile\");}else{console.log(res.data.message);}}).catch(function(err){console.log(err.data);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleForm(){return _ref.apply(this,arguments);};}();return _react.default.createElement(_reactNativeWeb.View,{style:styles.Authen,__source:{fileName:_jsxFileName,lineNumber:39},__self:this},_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:32,fontWeight:\"700\",textAlign:\"center\",marginVertical:\"22\"},__source:{fileName:_jsxFileName,lineNumber:40},__self:this},\"Login Page\"),_react.default.createElement(_reactNativeWeb.View,{style:styles.field,__source:{fileName:_jsxFileName,lineNumber:50},__self:this},_react.default.createElement(_reactNativeWeb.TextInput,{placeholder:\"Email\",onChangeText:function onChangeText(e){return setEmail(e);},style:styles.inputs,__source:{fileName:_jsxFileName,lineNumber:51},__self:this}),_react.default.createElement(_reactNativeWeb.TextInput,{placeholder:\"Password\",onChangeText:function onChangeText(e){return setPassword(e);},style:styles.inputs,__source:{fileName:_jsxFileName,lineNumber:56},__self:this}),_react.default.createElement(_reactNativeWeb.TouchableOpacity,{style:styles.btn,onPress:handleForm,__source:{fileName:_jsxFileName,lineNumber:61},__self:this},_react.default.createElement(_reactNativeWeb.Text,{style:{textAlign:\"center\",fontSize:26,color:\"white\"},__source:{fileName:_jsxFileName,lineNumber:62},__self:this},\"Login\")),_react.default.createElement(_reactNativeWeb.View,{style:{flexDirection:\"row\",marginVertical:12},__source:{fileName:_jsxFileName,lineNumber:67},__self:this},_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:22},__source:{fileName:_jsxFileName,lineNumber:68},__self:this},\"Don't have an account? \"),_react.default.createElement(_reactNativeWeb.TouchableOpacity,{onPress:function onPress(){return navigate.push(\"/reg\");},__source:{fileName:_jsxFileName,lineNumber:69},__self:this},_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:22,color:\"blue\"},__source:{fileName:_jsxFileName,lineNumber:70},__self:this},\"Register\")))));}__signature__(Login,\"useState{[email, setEmail]}\\nuseState{[password, setPassword]}\\nuseContext{{token, setToken}}\\nuseHistory{navigate}\",function(){return[_reactRouterDom.useHistory];});var styles=_reactNativeWeb.StyleSheet.create({Authen:{height:\"100vh\",justifyContent:\"center\",alignContent:\"center\"},field:{width:\"auto\",marginHorizontal:\"auto\"},inputs:{borderWidth:1,borderColor:\"grey\",borderRadius:8,height:60,marginVertical:12,fontSize:22},btn:{backgroundColor:\"skyblue\",height:60,borderWidth:1,borderColor:\"grey\",borderRadius:8,justifyContent:\"center\"}});;(function(){var reactHotLoader=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.default:undefined;if(!reactHotLoader){return;}reactHotLoader.register(Login,\"Login\",\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\src\\\\Components\\\\Login.js\");reactHotLoader.register(styles,\"styles\",\"D:\\\\Vscode\\\\MERNPROJECTS\\\\Pwa reference\\\\react-native-pwa\\\\react-native-pwa\\\\src\\\\Components\\\\Login.js\");})();;(function(){var leaveModule=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.leaveModule:undefined;leaveModule&&leaveModule(module);})();","map":{"version":3,"names":["_reactNativeWeb","require","_cookies","_interopRequireDefault","_react","_interopRequireWildcard","_reactRouterDom","_axios","_Stack","_jsxFileName","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","default","signature","a","Login","_useState","useState","_useState2","_slicedToArray2","email","setEmail","_useState3","_useState4","password","setPassword","_useContext","useContext","contextStore","token","setToken","navigate","useHistory","handleForm","_ref","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","console","log","axios","post","then","res","data","status","push","message","catch","err","stop","apply","arguments","createElement","View","style","styles","Authen","__source","fileName","lineNumber","__self","Text","fontSize","fontWeight","textAlign","marginVertical","field","TextInput","placeholder","onChangeText","e","inputs","TouchableOpacity","btn","onPress","color","flexDirection","StyleSheet","create","height","justifyContent","alignContent","width","marginHorizontal","borderWidth","borderColor","borderRadius","backgroundColor","reactHotLoader","register","leaveModule"],"sources":["D:/Vscode/MERNPROJECTS/Pwa reference/react-native-pwa/react-native-pwa/src/Components/Login.js"],"sourcesContent":["import {\r\n\tView,\r\n\tText,\r\n\tStyleSheet,\r\n\tTextInput,\r\n\tTouchableOpacity,\r\n} from \"react-native\";\r\nimport Cookies from \"cookies\"\r\nimport React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { contextStore } from \"../Native/Stack\";\r\nexport default function Login() {\r\n\tconst [email, setEmail] = useState();\r\n\tconst [password, setPassword] = useState();\r\n\tconst {token, setToken} = useContext(contextStore);\r\n\t// const [token, setToken] = useState();\r\n\tconst navigate = useHistory();\r\n\r\n\tconst handleForm = async () => {\r\n\t\tconsole.log(email, password);\r\n        // 192.168.239.38\r\n\t\tawait axios\r\n\t\t\t.post(\"http://192.168.239.38:9090/signin\", { email, password })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tif (res.data.status === 200) {\r\n\t\t\t\t\tsetToken(res.data.token);\r\n\t\t\t\t\tnavigate.push(\"/profile\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(res.data.message);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err.data);\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<View style={styles.Authen}>\r\n\t\t\t<Text\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontSize: 32,\r\n\t\t\t\t\tfontWeight: \"700\",\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\tmarginVertical: \"22\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tLogin Page\r\n\t\t\t</Text>\r\n\t\t\t<View style={styles.field}>\r\n\t\t\t\t<TextInput\r\n\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\tonChangeText={(e) => setEmail(e)}\r\n\t\t\t\t\tstyle={styles.inputs}\r\n\t\t\t\t></TextInput>\r\n\t\t\t\t<TextInput\r\n\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\tonChangeText={(e) => setPassword(e)}\r\n\t\t\t\t\tstyle={styles.inputs}\r\n\t\t\t\t></TextInput>\r\n\t\t\t\t<TouchableOpacity style={styles.btn} onPress={handleForm}>\r\n\t\t\t\t\t<Text style={{ textAlign: \"center\", fontSize: 26, color: \"white\" }}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</TouchableOpacity>\r\n\r\n\t\t\t\t<View style={{ flexDirection: \"row\", marginVertical: 12 }}>\r\n\t\t\t\t\t<Text style={{ fontSize: 22 }}>Don't have an account? </Text>\r\n\t\t\t\t\t<TouchableOpacity onPress={() => navigate.push(\"/reg\")}>\r\n\t\t\t\t\t\t<Text style={{ fontSize: 22, color: \"blue\" }}>Register</Text>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n}\r\nconst styles = StyleSheet.create({\r\n\tAuthen: {\r\n\t\theight: \"100vh\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignContent: \"center\",\r\n\t},\r\n\tfield: {\r\n\t\twidth: \"auto\",\r\n\t\tmarginHorizontal: \"auto\",\r\n\t},\r\n\tinputs: {\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: \"grey\",\r\n\t\tborderRadius: 8,\r\n\t\theight: 60,\r\n\t\tmarginVertical: 12,\r\n\t\tfontSize: 22,\r\n\t},\r\n\tbtn: {\r\n\t\tbackgroundColor: \"skyblue\",\r\n\t\theight: 60,\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: \"grey\",\r\n\t\tborderRadius: 8,\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}